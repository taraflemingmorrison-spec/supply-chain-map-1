<!DOCTYPE html>
<!-- saved from url=(0115)file:///M:/KINGSTON/COURSES/GLOBAL%20CHALLENGES/25-26/WEEK%207/Interactive%20Global%20Supply%20Chain%20Map%201.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Interactive Global Supply Chain Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./Interactive Global Supply Chain Map index._files/leaflet.css">
  <style>
    #map { height: 100vh; width: 100%; }
    .custom-popup { font-size: 14px; }
    .leaflet-container { background: #eef; }
  </style>
</head>
<body>
  <h2 style="text-align:center;">Interactive Global Supply Chain Map</h2>
  <p style="text-align:center;">Click on the map to add a supply chain stage, fill in the details, and connect the stages.</p>
  <div id="map" class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0" style="position: relative; outline-style: none;"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 19; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt="" src="./Interactive Global Supply Chain Map index._files/1.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(3).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, 630px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-overlay-pane"></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(512px, 453.919px, 0px) scale(2);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="file:///C:/Users/tmorris3/Downloads/supply_chain_mapper%20(1).html#" title="Zoom in" role="button" aria-label="Zoom in" aria-disabled="false"><span aria-hidden="true">+</span></a><a class="leaflet-control-zoom-out" href="file:///C:/Users/tmorris3/Downloads/supply_chain_mapper%20(1).html#" title="Zoom out" role="button" aria-label="Zoom out" aria-disabled="false"><span aria-hidden="true">−</span></a></div></div><div class="leaflet-top leaflet-right"><button class="leaflet-control" style="background: white; padding: 5px; cursor: pointer;">Connect Supply Chain</button></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com/" title="A JavaScript library for interactive maps"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"></path><path fill="#FFD500" d="M0 4h12v3H0z"></path><path fill="#E0BC00" d="M0 7h12v1H0z"></path></svg> Leaflet</a> <span aria-hidden="true">|</span> © OpenStreetMap contributors</div></div></div><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 19; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(4).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(5).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(4).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(5).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(4).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(5).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(4).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(368px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(5).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(624px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(112px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(880px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/1(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, 118px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/2(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, 374px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/0(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, -138px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(7).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-144px, 630px, 0px); opacity: 1;"><img alt="" src="./Interactive Global Supply Chain Map index._files/3(6).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1136px, 630px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-overlay-pane"></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(512px, 453.919px, 0px) scale(2);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="file:///M:/KINGSTON/COURSES/GLOBAL%20CHALLENGES/25-26/WEEK%207/Interactive%20Global%20Supply%20Chain%20Map%201.html#" title="Zoom in" role="button" aria-label="Zoom in" aria-disabled="false"><span aria-hidden="true">+</span></a><a class="leaflet-control-zoom-out" href="file:///M:/KINGSTON/COURSES/GLOBAL%20CHALLENGES/25-26/WEEK%207/Interactive%20Global%20Supply%20Chain%20Map%201.html#" title="Zoom out" role="button" aria-label="Zoom out" aria-disabled="false"><span aria-hidden="true">−</span></a></div></div><div class="leaflet-top leaflet-right"><button class="leaflet-control" style="background: white; padding: 5px; cursor: pointer;">Connect Supply Chain</button></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com/" title="A JavaScript library for interactive maps"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"></path><path fill="#FFD500" d="M0 4h12v3H0z"></path><path fill="#E0BC00" d="M0 7h12v1H0z"></path></svg> Leaflet</a> <span aria-hidden="true">|</span> © OpenStreetMap contributors</div></div></div></div>

  <script src="./Interactive Global Supply Chain Map index._files/leaflet.js.download"></script>
  <script>
    // Initialize the map
    var map = L.map('map').setView([20, 0], 2);

    // Add OpenStreetMap tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // Array to hold markers
    var markers = [];

    // Add marker on click
    map.on('click', function(e) {
      var popupContent = `
        <div class="custom-popup">
          <b>Stage:</b> <input type="text" id="stage" placeholder="e.g. Mining"><br>
          <b>Details:</b> <input type="text" id="details" placeholder="e.g. Cobalt, $3/day"><br>
          <button onclick="saveMarker(${e.latlng.lat}, ${e.latlng.lng}, this)">Save</button>
        </div>`;

      var popup = L.popup()
        .setLatLng(e.latlng)
        .setContent(popupContent)
        .openOn(map);
    });

    // Function to save a marker
    function saveMarker(lat, lng, button) {
      var container = button.parentElement;
      var stage = container.querySelector('#stage').value;
      var details = container.querySelector('#details').value;
      var marker = L.marker([lat, lng]).addTo(map)
        .bindPopup(`<b>${stage}</b><br>${details}`);
      markers.push(marker);
      map.closePopup();
    }

    // Function to connect markers with a polyline
    function connectMarkers() {
      if(markers.length < 2) { alert('Add at least two markers to connect.'); return; }
      var latlngs = markers.map(m => m.getLatLng());
      L.polyline(latlngs, {color: 'red'}).addTo(map);
    }

    // Add a button to connect markers
    var connectButton = L.control({position: 'topright'});
    connectButton.onAdd = function(map) {
      var btn = L.DomUtil.create('button', '');
      btn.innerHTML = 'Connect Supply Chain';
      btn.style.background = 'white';
      btn.style.padding = '5px';
      btn.style.cursor = 'pointer';
      btn.onclick = function(){ connectMarkers(); };
      return btn;
    };
    connectButton.addTo(map);
  </script>


</body></html>